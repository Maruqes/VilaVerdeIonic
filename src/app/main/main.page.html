<!-- main.page.html (rev) -->

<ion-content class="main-page ion-padding">
  <img src="assets/vila_verde.gif" alt="Vila Verde Logo"
    style="display: block; margin: 0.5rem auto 0 auto; width: 65px;" />

  <ion-searchbar placeholder="Insere a tua localização" mode="md" animated="true"
    show-clear-button="focus"></ion-searchbar>

  <!-- Cartão de contagem decrescente para a chegada -->
  <ion-card class="chegada-card glass-card">
    <ion-card-header>
      <ion-card-title>Tempo até Vila&nbsp;Verde</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div class="tempo-restante">
        <ion-icon size="large" name="time-outline"></ion-icon>
        <!--
          Substitui o valor estático pelo contador gerado em TS/JS.
          O id="contador" fica aqui para referenciares facilmente.
        -->
        <h1 class="contador" id="contador">45&nbsp;min</h1>
      </div>

      <!-- Barra de progresso (valor entre 0 e 1). 0.25 ≃ 25% -->
      <ion-progress-bar value="0.25"></ion-progress-bar>
    </ion-card-content>
  </ion-card>

  <ion-label class="popular-title">Populares em Vila Verde</ion-label>

  <!-- Carrossel horizontal de locais populares -->
  <div class="popular-scroll">
    <!-- Use *ngFor with async pipe to loop through popular items -->
    <ion-card class="popular-card" *ngFor="let item of popularItems$ | async">
      <img [src]="item.image" [alt]="item.name" />
      <ion-card-header>
        <ion-card-title>{{ item.name }}</ion-card-title>
        <p>{{ item.description }}</p>
      </ion-card-header>
    </ion-card>
  </div>

</ion-content>

<!-- Use the shared footer component -->
<app-footer-tabs></app-footer-tabs>